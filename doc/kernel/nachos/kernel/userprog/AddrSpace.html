<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Mon Aug 22 14:20:49 EDT 2016 -->
<title>AddrSpace (Nachos-SBU Kernel Documentation)</title>
<meta name="date" content="2016-08-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AddrSpace (Nachos-SBU Kernel Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../nachos/kernel/userprog/ExceptionHandler.html" title="class in nachos.kernel.userprog"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/userprog/AddrSpace.html" target="_top">Frames</a></li>
<li><a href="AddrSpace.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.kernel.userprog</div>
<h2 title="Class AddrSpace" class="title">Class AddrSpace</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>nachos.kernel.userprog.AddrSpace</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">AddrSpace</span>
extends java.lang.Object</pre>
<div class="block">This class manages "address spaces", which are the contexts in which
 user programs execute.  For now, an address space contains a
 "segment descriptor", which describes the the virtual-to-physical
 address mapping that is to be used when the user program is executing.
 As you implement more of Nachos, it will probably be necessary to add
 other fields to this class to keep track of things like open files,
 network connections, etc., in use by a user program.

 NOTE: Most of what is in currently this class assumes that just one user
 program at a time will be executing.  You will have to rewrite this
 code so that it is suitable for multiprogramming.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private nachos.machine.TranslationEntry[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#pageTable">pageTable</a></span></code>
<div class="block">Page table that describes a virtual-to-physical address mapping.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#UserStackSize">UserStackSize</a></span></code>
<div class="block">Default size of the user stack area -- increase this as necessary!</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#AddrSpace--">AddrSpace</a></span>()</code>
<div class="block">Create a new address space.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#exec-nachos.kernel.filesys.OpenFile-">exec</a></span>(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;executable)</code>
<div class="block">Load the program from a file "executable", and set everything
 up so that we can start executing user instructions.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#initRegisters--">initRegisters</a></span>()</code>
<div class="block">Initialize the user-level register set to values appropriate for
 starting execution of a user program loaded in this address space.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#restoreState--">restoreState</a></span>()</code>
<div class="block">On a context switch, restore any machine state specific
 to this address space.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#roundToPage-long-">roundToPage</a></span>(long&nbsp;size)</code>
<div class="block">Utility method for rounding up to a multiple of CPU.PageSize;</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/userprog/AddrSpace.html#saveState--">saveState</a></span>()</code>
<div class="block">On a context switch, save any machine state, specific
 to this address space, that needs saving.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="pageTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pageTable</h4>
<pre>private&nbsp;nachos.machine.TranslationEntry[] pageTable</pre>
<div class="block">Page table that describes a virtual-to-physical address mapping.</div>
</li>
</ul>
<a name="UserStackSize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserStackSize</h4>
<pre>private static final&nbsp;int UserStackSize</pre>
<div class="block">Default size of the user stack area -- increase this as necessary!</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#nachos.kernel.userprog.AddrSpace.UserStackSize">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AddrSpace--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AddrSpace</h4>
<pre>public&nbsp;AddrSpace()</pre>
<div class="block">Create a new address space.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="exec-nachos.kernel.filesys.OpenFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exec</h4>
<pre>public&nbsp;int&nbsp;exec(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;executable)</pre>
<div class="block">Load the program from a file "executable", and set everything
 up so that we can start executing user instructions.

 Assumes that the object code file is in NOFF format.

 First, set up the translation from program memory to physical 
 memory.  For now, this is really simple (1:1), since we are
 only uniprogramming.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executable</code> - The file containing the object code to 
        load into memory</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>-1 if an error occurs while reading the object file,
    otherwise 0.</dd>
</dl>
</li>
</ul>
<a name="initRegisters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initRegisters</h4>
<pre>public&nbsp;void&nbsp;initRegisters()</pre>
<div class="block">Initialize the user-level register set to values appropriate for
 starting execution of a user program loaded in this address space.

 We write these directly into the "machine" registers, so
 that we can immediately jump to user code.</div>
</li>
</ul>
<a name="saveState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveState</h4>
<pre>public&nbsp;void&nbsp;saveState()</pre>
<div class="block">On a context switch, save any machine state, specific
 to this address space, that needs saving.

 For now, nothing!</div>
</li>
</ul>
<a name="restoreState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreState</h4>
<pre>public&nbsp;void&nbsp;restoreState()</pre>
<div class="block">On a context switch, restore any machine state specific
 to this address space.

 For now, just tell the machine where to find the page table.</div>
</li>
</ul>
<a name="roundToPage-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>roundToPage</h4>
<pre>private&nbsp;long&nbsp;roundToPage(long&nbsp;size)</pre>
<div class="block">Utility method for rounding up to a multiple of CPU.PageSize;</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../nachos/kernel/userprog/ExceptionHandler.html" title="class in nachos.kernel.userprog"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/userprog/AddrSpace.html" target="_top">Frames</a></li>
<li><a href="AddrSpace.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
