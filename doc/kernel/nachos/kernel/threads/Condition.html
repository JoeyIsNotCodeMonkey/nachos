<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Mon Aug 22 14:20:49 EDT 2016 -->
<title>Condition (Nachos-SBU Kernel Documentation)</title>
<meta name="date" content="2016-08-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Condition (Nachos-SBU Kernel Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/threads/Condition.html" target="_top">Frames</a></li>
<li><a href="Condition.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.kernel.threads</div>
<h2 title="Class Condition" class="title">Class Condition</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>nachos.kernel.threads.Condition</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Condition</span>
extends java.lang.Object</pre>
<div class="block">This class defines a "condition variable".  A condition
 variable does not have a value, but threads may be queued, waiting
 on the variable.  The following are the only operations on a condition
 variable: 

        await() -- release the lock, relinquish the CPU until signaled, 
                then re-acquire the lock

        signal() -- wake up a thread, if there are any waiting on 
                the condition

        broadcast() -- wake up all threads waiting on the condition

 All operations performed by a thread on a condition variable must be made
 while the thread is holding a lock.  Indeed, all accesses
 to a given condition variable must be protected by the same lock.
 In other words, mutual exclusion must be enforced among threads calling
 the condition variable operations.  The await() method must only be
 called from a thread context.  However, signal() and broadcast() may also
 be called from an interrupt handler.  In that case, it is not necessary
 (and not possible) for the caller to be holding a lock.

 In Nachos, condition variables are assumed to obey *Mesa*-style
 semantics.  When a Signal or Broadcast wakes up another thread,
 it simply puts the thread on the ready list, and it is the responsibility
 of the woken thread to re-acquire the lock (this re-acquire is
 taken care of within await()).  By contrast, some define condition
 variables according to *Hoare*-style semantics -- where the signalling
 thread gives up control over the lock and the CPU to the woken thread,
 which runs immediately and gives back control over the lock to the 
 signaller when the woken thread leaves the critical section.

 The consequence of using Mesa-style semantics is that some other thread
 can acquire the lock, and change data structures, before the woken
 thread gets a chance to run.  This generally means that waiting on
 a condition variable has to occur within a loop that tests whether the
 reason for waiting is no longer present before proceeding.
 
 NOTE: An implementation of locks and condition variables was not part of
 the original C++ version of Nachos -- it was part of the student assignments.
 As far as I know, this implementation originated in Peter Druschel's Java
 version.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads">Lock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#conditionLock">conditionLock</a></span></code>
<div class="block">The lock associated with this condition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#name">name</a></span></code>
<div class="block">Printable name useful for debugging.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../nachos/kernel/threads/SpinLock.html" title="class in nachos.kernel.threads">SpinLock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#spinLock">spinLock</a></span></code>
<div class="block">Spin lock used to obtain exclusive access to condition state
 in a multiprocessor setting.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../nachos/util/Queue.html" title="interface in nachos.util">Queue</a>&lt;nachos.machine.NachosThread&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#waitingThreads">waitingThreads</a></span></code>
<div class="block">Who's waiting on this condition?</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#Condition-java.lang.String-nachos.kernel.threads.Lock-">Condition</a></span>(java.lang.String&nbsp;debugName,
         <a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads">Lock</a>&nbsp;lock)</code>
<div class="block">Initialize a new condition variable.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#await--">await</a></span>()</code>
<div class="block">Wait on a condition until signalled.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#broadcast--">broadcast</a></span>()</code>
<div class="block">Wake up all threads waiting on the condition.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads">Lock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#getLock--">getLock</a></span>()</code>
<div class="block">Accessor to obtain the lock associated with a condition.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/threads/Condition.html#signal--">signal</a></span>()</code>
<div class="block">Wake up a thread, if any, that is waiting on the condition.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public final&nbsp;java.lang.String name</pre>
<div class="block">Printable name useful for debugging.</div>
</li>
</ul>
<a name="conditionLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conditionLock</h4>
<pre>private final&nbsp;<a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads">Lock</a> conditionLock</pre>
<div class="block">The lock associated with this condition.</div>
</li>
</ul>
<a name="waitingThreads">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitingThreads</h4>
<pre>private final&nbsp;<a href="../../../nachos/util/Queue.html" title="interface in nachos.util">Queue</a>&lt;nachos.machine.NachosThread&gt; waitingThreads</pre>
<div class="block">Who's waiting on this condition?</div>
</li>
</ul>
<a name="spinLock">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>spinLock</h4>
<pre>private final&nbsp;<a href="../../../nachos/kernel/threads/SpinLock.html" title="class in nachos.kernel.threads">SpinLock</a> spinLock</pre>
<div class="block">Spin lock used to obtain exclusive access to condition state
 in a multiprocessor setting.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Condition-java.lang.String-nachos.kernel.threads.Lock-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Condition</h4>
<pre>public&nbsp;Condition(java.lang.String&nbsp;debugName,
                 <a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads">Lock</a>&nbsp;lock)</pre>
<div class="block">Initialize a new condition variable.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>debugName</code> - An arbitrary name, useful for debugging.</dd>
<dd><code>lock</code> - A lock to be associated with this condition.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLock</h4>
<pre>public&nbsp;<a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads">Lock</a>&nbsp;getLock()</pre>
<div class="block">Accessor to obtain the lock associated with a condition.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lock associated with this condition.</dd>
</dl>
</li>
</ul>
<a name="await--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>await</h4>
<pre>public&nbsp;void&nbsp;await()</pre>
<div class="block">Wait on a condition until signalled.  The caller must hold the
 lock associated with the condition.  The lock is released, and
 the caller relinquishes the CPU until it is signalled by another
 thread that calls signal or broadcast on the same condition.</div>
</li>
</ul>
<a name="signal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signal</h4>
<pre>public&nbsp;void&nbsp;signal()</pre>
<div class="block">Wake up a thread, if any, that is waiting on the condition.</div>
</li>
</ul>
<a name="broadcast--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;void&nbsp;broadcast()</pre>
<div class="block">Wake up all threads waiting on the condition.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../nachos/kernel/threads/Lock.html" title="class in nachos.kernel.threads"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/threads/Condition.html" target="_top">Frames</a></li>
<li><a href="Condition.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
