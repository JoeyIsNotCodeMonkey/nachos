<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Mon Aug 22 14:20:49 EDT 2016 -->
<title>Directory (Nachos-SBU Kernel Documentation)</title>
<meta name="date" content="2016-08-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Directory (Nachos-SBU Kernel Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../nachos/kernel/filesys/BitMap.html" title="class in nachos.kernel.filesys"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../nachos/kernel/filesys/DirectoryEntry.html" title="class in nachos.kernel.filesys"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/filesys/Directory.html" target="_top">Frames</a></li>
<li><a href="Directory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.kernel.filesys</div>
<h2 title="Class Directory" class="title">Class Directory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>nachos.kernel.filesys.Directory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">Directory</span>
extends java.lang.Object</pre>
<div class="block">This class class defines a UNIX-like "directory".  Each entry in
 the directory describes a file, and where to find it on disk.

 The directory is a table of fixed length entries; each
 entry represents a single file, and contains the file name,
 and the location of the file header on disk.  The fixed size
 of each directory entry means that we have the restriction
 of a fixed maximum size for file names.

 Also, this implementation has the restriction that the size
 of the directory cannot expand.  In other words, once all the
 entries in the directory are used, no more files can be created.
 Fixing this is one of the parts to the assignment.

 The directory data structure can be stored in memory, or on disk.
 When it is on disk, it is stored as a regular Nachos file.
 The constructor initializes a directory structure in memory; the
 fetchFrom/writeBack operations shuffle the directory information
 from/to disk. 
 
 We assume mutual exclusion is provided by the caller.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../nachos/kernel/filesys/FileSystemReal.html" title="class in nachos.kernel.filesys">FileSystemReal</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#filesystem">filesystem</a></span></code>
<div class="block">The underlying filesystem in which the directory resides.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../nachos/kernel/filesys/DirectoryEntry.html" title="class in nachos.kernel.filesys">DirectoryEntry</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#table">table</a></span></code>
<div class="block">Table of pairs: file name/file header location.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#tableSize">tableSize</a></span></code>
<div class="block">Number of entries in the directory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#Directory-int-nachos.kernel.filesys.FileSystemReal-">Directory</a></span>(int&nbsp;size,
         <a href="../../../nachos/kernel/filesys/FileSystemReal.html" title="class in nachos.kernel.filesys">FileSystemReal</a>&nbsp;filesystem)</code>
<div class="block">Initialize a directory; initially, the directory is completely
 empty.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#add-java.lang.String-int-">add</a></span>(java.lang.String&nbsp;name,
   int&nbsp;newSector)</code>
<div class="block">Add a file into the directory.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#fetchFrom-nachos.kernel.filesys.OpenFile-">fetchFrom</a></span>(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</code>
<div class="block">Read the contents of the directory from disk.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#find-java.lang.String-">find</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Look up file name in directory, and return the disk sector number
 where the file's header is stored.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#findIndex-java.lang.String-">findIndex</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Look up file name in directory, and return its location in the table of
 directory entries.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#list--">list</a></span>()</code>
<div class="block">List all the file names in the directory (for debugging).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#print--">print</a></span>()</code>
<div class="block">List all the file names in the directory, their FileHeader locations,
 and the contents of each file (for debugging).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#remove-java.lang.String-">remove</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Remove a file name from the directory.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/Directory.html#writeBack-nachos.kernel.filesys.OpenFile-">writeBack</a></span>(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</code>
<div class="block">Write any modifications to the directory back to disk</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="tableSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tableSize</h4>
<pre>private&nbsp;int tableSize</pre>
<div class="block">Number of entries in the directory.</div>
</li>
</ul>
<a name="table">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>table</h4>
<pre>private&nbsp;<a href="../../../nachos/kernel/filesys/DirectoryEntry.html" title="class in nachos.kernel.filesys">DirectoryEntry</a>[] table</pre>
<div class="block">Table of pairs: file name/file header location.</div>
</li>
</ul>
<a name="filesystem">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>filesystem</h4>
<pre>private final&nbsp;<a href="../../../nachos/kernel/filesys/FileSystemReal.html" title="class in nachos.kernel.filesys">FileSystemReal</a> filesystem</pre>
<div class="block">The underlying filesystem in which the directory resides.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Directory-int-nachos.kernel.filesys.FileSystemReal-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Directory</h4>
<pre>Directory(int&nbsp;size,
          <a href="../../../nachos/kernel/filesys/FileSystemReal.html" title="class in nachos.kernel.filesys">FileSystemReal</a>&nbsp;filesystem)</pre>
<div class="block">Initialize a directory; initially, the directory is completely
 empty.  If the disk is being formatted, an empty directory
 is all we need, but otherwise, we need to call FetchFrom in order
 to initialize it from disk.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - The number of entries in the directory.</dd>
<dd><code>filesystem</code> - The underlying filesystem in which this directory exists.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="fetchFrom-nachos.kernel.filesys.OpenFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFrom</h4>
<pre>void&nbsp;fetchFrom(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</pre>
<div class="block">Read the contents of the directory from disk.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The file containing the directory contents.</dd>
</dl>
</li>
</ul>
<a name="writeBack-nachos.kernel.filesys.OpenFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBack</h4>
<pre>void&nbsp;writeBack(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</pre>
<div class="block">Write any modifications to the directory back to disk</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The file to contain the new directory contents.</dd>
</dl>
</li>
</ul>
<a name="findIndex-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findIndex</h4>
<pre>private&nbsp;int&nbsp;findIndex(java.lang.String&nbsp;name)</pre>
<div class="block">Look up file name in directory, and return its location in the table of
 directory entries.  Return -1 if the name isn't in the directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The file name to look up.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The index of the entry in the table, if present, otherwise -1.</dd>
</dl>
</li>
</ul>
<a name="find-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>int&nbsp;find(java.lang.String&nbsp;name)</pre>
<div class="block">Look up file name in directory, and return the disk sector number
 where the file's header is stored. Return -1 if the name isn't 
 in the directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The file name to look up.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The disk sector number where the file's header is stored,
 if the entry was found, otherwise -1.</dd>
</dl>
</li>
</ul>
<a name="add-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>boolean&nbsp;add(java.lang.String&nbsp;name,
            int&nbsp;newSector)</pre>
<div class="block">Add a file into the directory.  Return TRUE if successful;
 return FALSE if the file name is already in the directory,
 or if the directory is completely full, and has no more space for
 additional file names, or if the file name cannot be represented
 in the number of bytes available in a directory entry.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name of the file being added.</dd>
<dd><code>newSector</code> - The disk sector containing the added file's header.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the file was successfully added, otherwise false.</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>boolean&nbsp;remove(java.lang.String&nbsp;name)</pre>
<div class="block">Remove a file name from the directory.  Return TRUE if successful;
 return FALSE if the file isn't in the directory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The file name to be removed.</dd>
</dl>
</li>
</ul>
<a name="list--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>list</h4>
<pre>void&nbsp;list()</pre>
<div class="block">List all the file names in the directory (for debugging).</div>
</li>
</ul>
<a name="print--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>print</h4>
<pre>void&nbsp;print()</pre>
<div class="block">List all the file names in the directory, their FileHeader locations,
 and the contents of each file (for debugging).</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../nachos/kernel/filesys/BitMap.html" title="class in nachos.kernel.filesys"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../nachos/kernel/filesys/DirectoryEntry.html" title="class in nachos.kernel.filesys"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/filesys/Directory.html" target="_top">Frames</a></li>
<li><a href="Directory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
