<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Mon Aug 22 14:20:49 EDT 2016 -->
<title>BitMap (Nachos-SBU Kernel Documentation)</title>
<meta name="date" content="2016-08-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BitMap (Nachos-SBU Kernel Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../nachos/kernel/filesys/Directory.html" title="class in nachos.kernel.filesys"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/filesys/BitMap.html" target="_top">Frames</a></li>
<li><a href="BitMap.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nachos.kernel.filesys</div>
<h2 title="Class BitMap" class="title">Class BitMap</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>nachos.kernel.filesys.BitMap</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">BitMap</span>
extends java.lang.Object</pre>
<div class="block">This class defines a "bitmap" -- an array of bits,
 each of which can be independently set, cleared, and tested.

 Most useful for managing the allocation of the elements of an array --
 for instance, disk sectors, or main memory pages.
 Each bit represents whether the corresponding sector or page is
 in use or free.

 We represent a bitmap as an array of unsigned integers, on which we do
 modulo arithmetic to find the bit we are interested in.
 The bitmap can be parameterized by the number of bits being managed.
 It is also equipped with fetchFrom() and writeBack() methods for
 reading a bitmap from, and writing a bit map to, a Nachos file.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#BitsInByte">BitsInByte</a></span></code>
<div class="block">Number of bits in a byte.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#BitsInWord">BitsInWord</a></span></code>
<div class="block">Number of bytes in an integer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#map">map</a></span></code>
<div class="block">Bit storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#numBits">numBits</a></span></code>
<div class="block">Number of bits in the bitmap.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#numWords">numWords</a></span></code>
<div class="block">Number of words of bitmap storage (rounded up if numBits is not a
 multiple of the number of bits in a word).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#BitMap-int-">BitMap</a></span>(int&nbsp;nitems)</code>
<div class="block">Initialize a bitmap with "nitems" bits, so that every bit is clear.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#clear-int-">clear</a></span>(int&nbsp;which)</code>
<div class="block">Clear the "nth" bit in a bitmap.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#fetchFrom-nachos.kernel.filesys.OpenFile-">fetchFrom</a></span>(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</code>
<div class="block">Initialize the contents of a bitmap from a Nachos file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#find--">find</a></span>()</code>
<div class="block">Find the first bit that is clear.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#mark-int-">mark</a></span>(int&nbsp;which)</code>
<div class="block">Set the "nth" bit in a bitmap.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#numClear--">numClear</a></span>()</code>
<div class="block">Return the number of clear bits in the bitmap.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#print--">print</a></span>()</code>
<div class="block">Print the contents of the bitmap, for debugging.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#test-int-">test</a></span>(int&nbsp;which)</code>
<div class="block">Test if the "nth" bit is set.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../nachos/kernel/filesys/BitMap.html#writeBack-nachos.kernel.filesys.OpenFile-">writeBack</a></span>(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</code>
<div class="block">Store the contents of a bitmap to a Nachos file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BitsInByte">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BitsInByte</h4>
<pre>static final&nbsp;int BitsInByte</pre>
<div class="block">Number of bits in a byte.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#nachos.kernel.filesys.BitMap.BitsInByte">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="BitsInWord">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BitsInWord</h4>
<pre>private static final&nbsp;int BitsInWord</pre>
<div class="block">Number of bytes in an integer.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#nachos.kernel.filesys.BitMap.BitsInWord">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="numBits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numBits</h4>
<pre>private&nbsp;int numBits</pre>
<div class="block">Number of bits in the bitmap.</div>
</li>
</ul>
<a name="numWords">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numWords</h4>
<pre>private&nbsp;int numWords</pre>
<div class="block">Number of words of bitmap storage (rounded up if numBits is not a
 multiple of the number of bits in a word).</div>
</li>
</ul>
<a name="map">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>map</h4>
<pre>private&nbsp;int[] map</pre>
<div class="block">Bit storage.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BitMap-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BitMap</h4>
<pre>public&nbsp;BitMap(int&nbsp;nitems)</pre>
<div class="block">Initialize a bitmap with "nitems" bits, so that every bit is clear.
 it can be added somewhere on a list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nitems</code> - The number of bits in the bitmap.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="mark-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mark</h4>
<pre>public&nbsp;void&nbsp;mark(int&nbsp;which)</pre>
<div class="block">Set the "nth" bit in a bitmap.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>which</code> - The number of the bit to be set.</dd>
</dl>
</li>
</ul>
<a name="clear-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear(int&nbsp;which)</pre>
<div class="block">Clear the "nth" bit in a bitmap.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>which</code> - The number of the bit to be cleared.</dd>
</dl>
</li>
</ul>
<a name="test-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>test</h4>
<pre>public&nbsp;boolean&nbsp;test(int&nbsp;which)</pre>
<div class="block">Test if the "nth" bit is set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>which</code> - The number of the bit to be tested.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the indicated bit is set, otherwise false.</dd>
</dl>
</li>
</ul>
<a name="find--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;int&nbsp;find()</pre>
<div class="block">Find the first bit that is clear.
 As a side effect, set the bit (mark it as in use).
 (In other words, find and allocate a bit.)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the bit set, if one was found, otherwise -1.</dd>
</dl>
</li>
</ul>
<a name="numClear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numClear</h4>
<pre>public&nbsp;int&nbsp;numClear()</pre>
<div class="block">Return the number of clear bits in the bitmap.
 (In other words, how many bits are unallocated?)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of clear bits in the bitmap.</dd>
</dl>
</li>
</ul>
<a name="print--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>print</h4>
<pre>public&nbsp;void&nbsp;print()</pre>
<div class="block">Print the contents of the bitmap, for debugging.

 Could be done in a number of ways, but we just print the #'s of
 all the bits that are set in the bitmap.</div>
</li>
</ul>
<a name="fetchFrom-nachos.kernel.filesys.OpenFile-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFrom</h4>
<pre>public&nbsp;void&nbsp;fetchFrom(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</pre>
<div class="block">Initialize the contents of a bitmap from a Nachos file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The file to read the bitmap from.</dd>
</dl>
</li>
</ul>
<a name="writeBack-nachos.kernel.filesys.OpenFile-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeBack</h4>
<pre>public&nbsp;void&nbsp;writeBack(<a href="../../../nachos/kernel/filesys/OpenFile.html" title="interface in nachos.kernel.filesys">OpenFile</a>&nbsp;file)</pre>
<div class="block">Store the contents of a bitmap to a Nachos file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The file to write the bitmap to.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../nachos/kernel/filesys/Directory.html" title="class in nachos.kernel.filesys"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?nachos/kernel/filesys/BitMap.html" target="_top">Frames</a></li>
<li><a href="BitMap.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
